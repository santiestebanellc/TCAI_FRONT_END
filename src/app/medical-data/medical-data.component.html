<ng-container *ngIf="pacienteId; else noPatient">
  <div class="flex flex-col px-2">
    <div class="flex justify-between pl-3">
      <!-- Botones a la izquierda -->
      <div class="flex justify-start">
        <div class="flex gap-1">
          <app-button
            text="AVD"
            [showIcon]="false"
            (click)="onButtonClick('AVD')"
            [class.active]="selectedFilter === 'AVD'"
          ></app-button>
          <app-button
            text="SV"
            [showIcon]="false"
            (click)="onButtonClick('SV')"
            [class.active]="selectedFilter === 'SV'"
          ></app-button>
          <app-button
            text="SNG"
            [showIcon]="false"
            (click)="onButtonClick('SNG')"
            [class.active]="selectedFilter === 'SNG'"
          ></app-button>
          <app-button
            text="SR"
            [showIcon]="false"
            (click)="onButtonClick('SR')"
            [class.active]="selectedFilter === 'SR'"
          ></app-button>
          <app-button
            text="BOLQ"
            [showIcon]="false"
            (click)="onButtonClick('BOLQ')"
            [class.active]="selectedFilter === 'BOLQ'"
          ></app-button>
          <app-button
            text="O2"
            [showIcon]="false"
            (click)="onButtonClick('O2')"
            [class.active]="selectedFilter === 'O2'"
          ></app-button>
        </div>
      </div>

      <!-- Botón a la derecha -->
      <div class="flex justify-end">
        <app-button
          text="Afegir dades"
          [showIcon]="true"
          (click)="goToAddMedicalData()"
        >
          <svg
            icon
            xmlns="http://www.w3.org/2000/svg"
            width="12"
            height="12"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="3"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </app-button>
      </div>
    </div>

    <div class="flex flex-row h-full">
      <!-- Componente histórico (25% del ancho) -->
      <div class="w-[25%] h-full overflow-y-auto">
        <app-historical-medical
          [pacienteId]="pacienteId"
          (diagnosticoSelected)="onDiagnosticoSelected($event)"
        ></app-historical-medical>
      </div>

      <!-- Componente principal (75% del ancho) -->
      <div class="w-[75%] h-full overflow-y-auto">
        <app-medical-data-display
          [diagnosticoId]="diagnosticoId"
          [filter]="selectedFilter"
        ></app-medical-data-display>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #noPatient>
  <div class="flex justify-center items-center h-full">
    <div class="flex justify-center items-center flex-col gap-4">
      <img src="assets/empty-icon.png" alt="Empty Icon" />
      <p class="text-gray-700 text-sm">Aquesta habitació està buida.</p>
    </div>
  </div>
</ng-template>
